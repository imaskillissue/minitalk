SERVER			= src/server/Server.c
SERVER_OBJS		= $(SERVER:.c=.o)
CLIENT			= src/client/Client.c src/client/SignalUtils.c
CLIENT_OBJS		= $(CLIENT:.c=.o)
INCLUDES		= includes/
NAME			= minitalk
COMPILER		= @cc
FLAGS			= -Wall -Wextra -Werror
RM				= @rm -f
ART			    = "           [38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;0;0;0mâ–„\n        [38;2;0;0;0mâ–„[38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;107;173;82mâ–€[0m[38;2;0;0;0m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;123;206;123m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;0;0;0m[48;2;107;173;82mâ–€[0m[38;2;0;0;0mâ–„[38;2;0;0;0mâ–„\n   [38;2;0;0;0mâ–„  [38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;82;140;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;107;173;82mâ–€[0m[38;2;0;0;0m[48;2;66;115;58mâ–€[0m[38;2;0;0;0mâ–„\n  [38;2;0;0;0m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;66;115;58m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;107;173;82m[48;2;82;140;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;0;0;0m[48;2;0;0;0mâ–€[0m\n [38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;99;156;99m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;99;156;99m[48;2;123;206;123mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;66;115;58m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;0;0;0mâ–€[0m[38;2;0;0;0mâ–€\n[38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;189;74;66mâ–€[0m[38;2;99;156;99m[48;2;66;115;58mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;65;65;65mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;66;115;58m[48;2;65;65;65mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;0;0;0m[48;2;0;0;0mâ–€[0m\n[38;2;0;0;0mâ–€[38;2;123;206;123m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;66;115;58m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;0;0;0mâ–€[0m[38;2;65;65;65m[48;2;0;0;0mâ–€[0m[38;2;0;0;0m[48;2;255;255;255mâ–€[0m[38;2;65;65;65m[48;2;255;255;255mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;65;65;65mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;0;0;0m[48;2;0;0;0mâ–€[0m\n [38;2;0;0;0mâ–€[38;2;99;156;99m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;0;0;0m[48;2;99;156;99mâ–€[0m[38;2;230;74;66m[48;2;99;156;99mâ–€[0m[38;2;255;255;255m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;65;65;65mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;65;65;65m[48;2;65;65;65mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;189;189;189mâ–€[0m[38;2;99;156;99m[48;2;0;0;0mâ–€[0m[38;2;0;0;0mâ–€\n    [38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0m[48;2;0;0;0mâ–€[0m[38;2;99;156;99m[48;2;255;255;255mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;255;255;255mâ–€[0m[38;2;99;156;99m[48;2;65;65;65mâ–€[0m[38;2;65;65;65m[48;2;0;0;0mâ–€[0m[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€\n          [38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€\n[0m"

all: $(NAME)

$(NAME): $(SERVER_OBJS) $(CLIENT_OBJS)
	@echo "\033c"
	@echo $(ART)
	@echo "Compiling libft"
	@cd libft && make
	@echo "Compiling libft was successful"
	@echo "Merging object files to server"
	@cc $(FLAGS) -I $(INCLUDES) $(SERVER_OBJS) libft/libft.a -o server
	@echo "Merging was successful"
	@echo "Merging object files to client"
	@cc $(FLAGS) -I $(INCLUDES) $(CLIENT_OBJS) libft/libft.a -o client
	@echo "Merging was successful"
	@echo "Compiling was successful"

.c.o:
	@echo "\033c"
	@echo $(ART)
	@echo "Compiling file $<"
	$(COMPILER) $(FLAGS) -I $(INCLUDES) -c $< -o $@

clean:
	@echo "\033c"
	@echo $(ART)
	@echo "Cleaning object files"
	$(RM) $(CLIENT_OBJS)
	$(RM) $(SERVER_OBJS)
	@cd libft && make clean

fclean: clean
	@echo "Removing executable files"
	$(RM) server
	$(RM) client
	@cd libft && make fclean
	@echo "Removing executable files was successful"

re: fclean all

.PHONY: all clean fclean re server client
